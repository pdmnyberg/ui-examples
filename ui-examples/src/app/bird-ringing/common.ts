export type Ringer = {
    firstName: string;
    lastName: string;
    emailStatus: string;
    emailSentAt: string;
    updatedAt: string;
    licenses: {
        type: string;
        href: string;
        createdAt: string;
    }[]
}

export type IdentifiableEntity = {
    id: string;
}

const firstNames = [
  "Erik",
  "Lars",
  "Johan",
  "Anders",
  "Per",
  "Karl",
  "Oskar",
  "Nils",
  "Gustav",
  "Henrik",
  "Mats",
  "Fredrik",
  "Daniel",
  "Björn",
  "Tobias",
  "Marcus",
  "Viktor",
  "Håkan",
  "Emil",
  "Anton",
  "Axel",
  "Jonas",
  "Stefan",
  "Olle",
  "Mattias",
  "Rasmus",
  "Patrik",
  "Simon",
  "Filip",
  "Albin",
  "Sven",
  "Elias",
  "Isak",
  "Leon",
  "Arvid",
  "Lennart",
  "Göran",
  "Christer",
  "Robin",
  "Martin"
]

const lastNames = [
  "Andersson",
  "Johansson",
  "Karlsson",
  "Nilsson",
  "Eriksson",
  "Larsson",
  "Olsson",
  "Persson",
  "Svensson",
  "Gustafsson",
  "Pettersson",
  "Jonsson",
  "Jansson",
  "Hansson",
  "Bengtsson",
  "Olofsson",
  "Lindberg",
  "Lindström",
  "Lundberg",
  "Lundgren",
  "Lindqvist",
  "Lundström",
  "Bergström",
  "Holmberg",
  "Wallin",
  "Sandberg",
  "Axelsson",
  "Berglund",
  "Ekström",
  "Nyström",
  "Blomqvist",
  "Söderberg",
  "Hedlund",
  "Fransson",
  "Isaksson",
  "Strömberg",
  "Lindgren",
  "Håkansson",
  "Norberg",
  "Forsberg"
]

const licenseTypes = [
    "Ringer",
    "Helper"
]

const emailStatus = [
    "Sent",
    "Not sent",
    "Bounced",
    "Pending"
]

const randomBase = [
  0.20741536188545795,
  0.5595905346455882,
  0.5822218369641013,
  0.9607082331278506,
  0.988923190041827,
  0.08617541076997659,
  0.19437241850999099,
  0.8857463787361463,
  0.5735442180292741,
  0.5629622457552047,
  0.6749161174037619,
  0.04253038928720565,
  0.8203370297026712,
  0.3442504206886069,
  0.5329937605375283,
  0.7906205285274828,
  0.51200640321653,
  0.7065968006911221,
  0.7489723578925022,
  0.034244245879893165,
  0.7692082090854805,
  0.5239969443978556,
  0.8023445379110216,
  0.44079209634104755,
  0.7753118865334327,
  0.699755448534883,
  0.9063308208895936,
  0.780038586595407,
  0.27815533111262614,
  0.41046017718094496,
  0.2579574975367256,
  0.8031262415862557,
  0.17758901562403662,
  0.5500287798202025,
  0.8271381027437187,
  0.63340918806205,
  0.4387209815334906,
  8.509139405643573e-05,
  0.6082629587219214,
  0.314998024979501,
  0.5113842523248547,
  0.2523708143955523,
  0.6002243990555153,
  0.9921166427848298,
  0.26057816811206125,
  0.4892806774891787,
  0.03589868466651147,
  0.9481902671401347,
  0.5012236584616327,
  0.5545584642204787,
  0.2427087946791916,
  0.8259342105343978,
  0.5355256338593831,
  0.22475105526383254,
  0.47757031272612926,
  0.78192456640082,
  0.8193602759218039,
  0.8227029709316296,
  0.44957587121350784,
  0.18650387970484772,
  0.7371422447530421,
  0.7887044154689847,
  0.018889027984426376,
  0.3725372766929844,
  0.11173252968580438,
  0.22670169205212665,
  0.5745646272499968,
  0.10105143329999933,
  0.3931584261663338,
  0.20023506512992806,
  0.7285594280143806,
  0.9691471928872945,
  0.26859678975171153,
  0.13971648298857897,
  0.19855098329087628,
  0.7681374094906529,
  0.6856007893697239,
  0.7212030897430686,
  0.23245671592500505,
  0.2585606314691581,
  0.5394205734545345,
  0.5168072848584171,
  0.4735808727019548,
  0.1542199278769567,
  0.24459930971246158,
  0.5645688355884114,
  0.23788873712064218,
  0.786081022022729,
  0.4502078844740294,
  0.7583687733114177,
  0.45886093767219505,
  0.8543319686344898,
  0.283994216177868,
  0.06422434218123507,
  0.5358769255419847,
  0.9689469158344516,
  0.5811674377741632,
  0.41781685969538074,
  0.6492884908596273,
  0.739645354269751,
  0.3693592039085133,
  0.36894590317986065,
  0.5376425880782874,
  0.8959713871710437,
  0.5879782351921025,
  0.16198694090355148,
  0.689981840863459,
  0.4381933584993595,
  0.1379555701738321,
  0.6935700517298559,
  0.41461082599644083,
  0.19035373671670675,
  0.26164833927299047,
  0.9416448819185237,
  0.09130113476431834,
  0.3881566562560054,
  0.12781021305336793,
  0.25165383208524406,
  0.26601171478839936,
  0.5509843924848055,
  0.8090584119066632,
  0.9259147576448695,
  0.745725918131591,
  0.13371758195673056,
  0.8814884378947127,
  0.8081881045133364,
  0.1703589633512852,
  0.9939786814681933,
  0.8593365717055447,
  0.16676256890352936,
  0.38801288129931777,
  0.41191462592484807,
  0.5340079914515017,
  0.4463427315940137,
  0.9102923946216244,
  0.7569715153088313,
  0.2120772281657638,
  0.35925040205709646,
  0.7685124907460122,
  0.16004688813832768,
  0.5634769466691206,
  0.10111688024594867,
  0.3859461256620642,
  0.4365338362319461,
  0.5781769775007564,
  0.8383514533254927,
  0.10383571364911814,
  0.4673641582127316,
  0.5143644618593578,
  0.6191551197133388,
  0.8806205178734222,
  0.5431225914979484,
  0.3473997271336944,
  0.507192079429329,
  0.04743441342840937,
  0.9628267993239629,
  0.1895046731996909,
  0.5428921565905915,
  0.6743513610925461,
  0.9336034816051083,
  0.3787433855788793,
  0.3341367108086436,
  0.9598521097802601,
  0.14080029378617787,
  0.6875800261490201,
  0.27757280986454347,
  0.5636051351443895,
  0.6306223857355687,
  0.9746903146181461,
  0.7176476330469176,
  0.9030164698291603,
  0.2711063152320423,
  0.6667771300476342,
  0.6641328340214794,
  0.47526051974730044,
  0.6605971653249391,
  0.7866982459287343,
  0.12759246492657417,
  0.3647539973102426,
  0.5066474052514958,
  0.7710904283197727,
  0.16029283083058565,
  0.4773243020617205,
  0.7514289506462295,
  0.933978455210589,
  0.923993195491914,
  0.5362868075138074,
  0.7350119782755414,
  0.4128363578982427,
  0.6423013432572464,
  0.6307260764500369,
  0.25388660409104946,
  0.6489117017482,
  0.7559026540049175,
  0.3267669103986389,
  0.3785337736776052,
  0.11776950394952412,
  0.3460047133660824,
  0.7465711243467702,
  0.645382053378751
]

const dates = [
  "2025-02-20T07:57:46.699048",
  "2025-04-25T19:59:46.704337",
  "2025-03-24T09:01:46.704373",
  "2025-07-23T17:47:46.704396",
  "2025-05-21T22:55:46.704405",
  "2024-08-15T21:31:46.704412",
  "2025-02-19T06:52:46.704426",
  "2024-04-25T09:18:46.704436",
  "2025-10-12T02:38:46.704446",
  "2024-07-30T22:58:46.704453",
  "2025-03-14T18:46:46.704460",
  "2025-09-01T03:23:46.704466",
  "2024-10-22T08:52:46.704472",
  "2024-12-29T09:31:46.704478",
  "2024-08-26T12:14:46.704484",
  "2024-07-18T00:47:46.704489",
  "2025-09-16T13:48:46.704495",
  "2025-01-30T16:13:46.704501",
  "2025-09-03T21:55:46.704507",
  "2024-08-28T12:46:46.704513",
  "2025-01-09T09:58:46.704518",
  "2025-06-26T18:39:46.704524",
  "2025-05-03T06:16:46.704529",
  "2025-04-26T07:12:46.704534",
  "2025-08-24T21:57:46.704540",
  "2025-04-21T06:59:46.704545",
  "2024-03-08T19:34:46.704550",
  "2024-11-12T06:45:46.704556",
  "2025-05-03T18:15:46.704561",
  "2024-05-15T18:42:46.704566",
  "2024-03-03T00:59:46.704571",
  "2025-03-11T04:50:46.704576",
  "2024-03-07T03:08:46.704582",
  "2024-04-28T18:03:46.704587",
  "2025-05-14T04:54:46.704593",
  "2024-11-28T21:28:46.704598",
  "2024-04-30T22:44:46.704604",
  "2025-06-26T12:41:46.704609",
  "2024-09-15T09:56:46.704614",
  "2024-04-30T12:44:46.704619",
  "2025-02-26T08:15:46.704624",
  "2024-04-21T05:03:46.704630",
  "2024-04-02T08:23:46.704635",
  "2025-01-15T00:26:46.704640",
  "2024-04-26T13:20:46.704646",
  "2024-05-18T19:46:46.704651",
  "2024-10-24T07:01:46.704657",
  "2024-05-18T12:05:46.704662",
  "2024-09-23T03:45:46.704667",
  "2024-06-11T16:16:46.704672",
  "2025-08-09T02:14:46.704677",
  "2024-09-08T21:13:46.704683",
  "2025-01-03T06:07:46.704688",
  "2025-03-23T16:55:46.704694",
  "2025-04-17T14:09:46.704699",
  "2024-05-29T21:44:46.704704",
  "2025-01-15T08:31:46.704709",
  "2024-08-29T19:27:46.704717",
  "2025-04-11T10:18:46.704723",
  "2025-01-04T11:52:46.704728",
  "2024-12-18T12:58:46.704733",
  "2025-09-30T19:52:46.704738",
  "2024-06-21T10:53:46.704743",
  "2024-03-09T06:18:46.704748",
  "2024-08-26T22:36:46.704754",
  "2024-07-06T17:27:46.704761",
  "2024-11-21T06:34:46.704766",
  "2024-07-07T19:22:46.704771",
  "2025-06-09T11:49:46.704776",
  "2024-06-24T11:05:46.704782",
  "2024-04-27T12:55:46.704787",
  "2024-03-11T11:14:46.704792",
  "2025-07-22T08:39:46.704797",
  "2024-12-03T21:01:46.704802",
  "2025-07-09T00:46:46.704808",
  "2025-01-26T00:15:46.704813",
  "2025-06-23T12:27:46.704818",
  "2025-09-06T22:56:46.704824",
  "2024-11-15T06:58:46.704829",
  "2025-06-10T07:54:46.704834",
  "2025-06-08T09:13:46.704839",
  "2024-05-11T13:05:46.704844",
  "2024-04-02T08:01:46.704849",
  "2025-05-08T20:38:46.704854",
  "2025-05-27T20:41:46.704860",
  "2025-03-31T19:22:46.704865",
  "2025-09-25T08:34:46.704870",
  "2024-12-14T22:19:46.704875",
  "2024-12-04T01:28:46.704880",
  "2024-03-30T17:53:46.704885",
  "2024-06-23T08:53:46.704890",
  "2024-08-18T06:24:46.704895",
  "2024-04-22T01:03:46.704900",
  "2024-04-19T02:17:46.704907",
  "2024-12-18T05:26:46.704912",
  "2025-05-06T08:52:46.704917",
  "2025-09-25T22:23:46.704922",
  "2024-09-11T16:12:46.704927",
  "2024-04-17T11:28:46.704932",
  "2024-03-24T05:54:46.704937",
  "2025-10-16T02:56:46.704942",
  "2024-11-27T01:08:46.704947",
  "2025-02-19T02:37:46.704953",
  "2025-04-14T02:43:46.704958",
  "2024-03-09T20:20:46.704963",
  "2025-01-22T10:36:46.704969",
  "2025-03-28T11:15:46.704974",
  "2025-01-23T03:11:46.704979",
  "2024-05-30T12:01:46.704986",
  "2025-08-04T23:33:46.704992",
  "2024-08-24T20:07:46.704997",
  "2025-10-10T05:56:46.705003",
  "2025-06-16T06:41:46.705008",
  "2025-03-08T15:08:46.705013",
  "2025-06-22T05:30:46.705019",
  "2025-01-01T12:38:46.705024",
  "2025-04-17T19:59:46.705029",
  "2025-08-26T23:58:46.705034",
  "2024-04-10T12:12:46.705039",
  "2024-03-21T04:47:46.705044",
  "2024-10-10T15:39:46.705050",
  "2025-01-19T09:30:46.705055",
  "2024-10-03T06:52:46.705060",
  "2025-03-21T04:47:46.705065",
  "2025-08-11T21:01:46.705071",
  "2024-03-31T04:51:46.705076",
  "2025-09-28T14:28:46.705081",
  "2024-02-25T06:43:46.705086",
  "2025-07-29T05:08:46.705092",
  "2025-07-06T23:01:46.705097",
  "2024-11-29T19:13:46.705102",
  "2025-02-12T13:01:46.705107",
  "2024-08-25T11:49:46.705113",
  "2024-10-01T05:56:46.705118",
  "2025-01-22T00:25:46.705123",
  "2024-07-17T14:30:46.705129",
  "2024-06-30T07:29:46.705134",
  "2024-12-27T21:50:46.705139",
  "2025-06-14T14:22:46.705144",
  "2024-12-18T20:35:46.705149",
  "2025-08-09T23:15:46.705154",
  "2025-09-09T09:38:46.705159",
  "2025-06-08T23:10:46.705164",
  "2024-12-20T04:13:46.705170",
  "2025-04-18T12:51:46.705175",
  "2025-04-24T10:36:46.705180",
  "2024-09-06T09:52:46.705185",
  "2025-09-19T18:55:46.705190",
  "2024-06-06T06:21:46.705196",
  "2024-12-21T17:39:46.705201",
  "2024-08-26T07:49:46.705206",
  "2024-07-28T03:18:46.705211",
  "2024-07-17T22:27:46.705216",
  "2025-06-24T12:32:46.705221",
  "2025-05-04T09:34:46.705231",
  "2025-07-26T21:32:46.705236",
  "2025-07-04T01:23:46.705242",
  "2024-04-03T12:56:46.705247",
  "2025-02-19T06:37:46.705252",
  "2025-06-01T18:05:46.705258",
  "2025-07-02T15:38:46.705267",
  "2024-04-26T12:33:46.705274",
  "2024-08-02T13:00:46.705280",
  "2025-08-24T11:45:46.705285",
  "2025-02-03T13:22:46.705290",
  "2024-12-10T07:27:46.705296",
  "2024-02-25T00:33:46.705301",
  "2025-02-14T01:05:46.705306",
  "2025-10-13T06:02:46.705312",
  "2024-05-31T20:37:46.705317",
  "2025-06-26T15:35:46.705322",
  "2024-08-27T10:53:46.705327",
  "2025-04-02T13:28:46.705332",
  "2025-08-12T00:53:46.705338",
  "2025-01-31T11:47:46.705343",
  "2024-04-27T01:08:46.705348",
  "2024-06-03T01:32:46.705354",
  "2024-09-26T14:32:46.705359",
  "2024-03-15T08:37:46.705364",
  "2025-01-10T23:27:46.705370",
  "2024-03-14T21:23:46.705375",
  "2024-08-22T22:06:46.705380",
  "2024-06-22T08:48:46.705386",
  "2025-04-06T05:45:46.705391",
  "2025-07-20T05:09:46.705396",
  "2025-08-06T23:19:46.705402",
  "2024-03-04T13:32:46.705407",
  "2025-10-12T17:55:46.705412",
  "2025-09-26T09:56:46.705417",
  "2025-01-01T05:57:46.705422",
  "2024-12-16T20:03:46.705427",
  "2024-02-24T07:03:46.705433",
  "2025-09-02T00:44:46.705438",
  "2025-01-02T21:11:46.705444",
  "2025-06-03T22:11:46.705449",
  "2024-07-28T16:26:46.705454",
  "2025-06-06T08:52:46.705459",
  "2025-03-03T21:09:46.705465",
  "2024-11-15T10:29:46.705470",
  "2025-01-01T16:04:46.705475"
]

class RandomContext {
    private _items: number[];
    private _ticker: number = 0;
    constructor(items?: number[]) {
        this._items = items || (Array.from({length: 200}).map(() => Math.random()))
    }

    random() {
        this._ticker = (this._ticker + 1) % this._items.length
        return this._items[this._ticker]
    }

    randint(min: number, max: number) {
        const delta = max - min;
        return Math.floor(min + delta * this.random());
    }

    choice<T>(entries: T[]): T {
        const index = Math.min(this.randint(0, entries.length), entries.length - 1);
        return entries[index]
    }

    reset() {
        this._ticker = 0;
    }
}

const fixedRandom = new RandomContext(randomBase);
export const ringers: Record<string, Ringer> = (Array.from({length: 200})).map<Ringer>(() => ({
    firstName: fixedRandom.choice(firstNames),
    lastName: fixedRandom.choice(lastNames),
    emailStatus: fixedRandom.choice(emailStatus),
    emailSentAt: fixedRandom.choice(dates),
    updatedAt: fixedRandom.choice(dates),
    licenses: (Array.from({length: fixedRandom.randint(1, 3)}).map(() => ({
        type: fixedRandom.choice(licenseTypes),
        href: "/mock-license.pdf",
        createdAt: fixedRandom.choice(dates),
    })))
})).reduce<Record<string, Ringer>>((acc, ringer, index) => {
    const id: string = `ringer-${index}`;
    acc[id] = ringer;
    return acc;
}, {})

export function getRingers(): (Ringer & IdentifiableEntity)[] {
    return Object.entries(ringers).map(([id, value]) => ({
        id,
        ...value
    }))
}

export function getRinger(ringer: IdentifiableEntity): Ringer & IdentifiableEntity {
    return {
        ...ringer,
        ...ringers[ringer.id]
    }
}
